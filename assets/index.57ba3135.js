(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerpolicy&&(u.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?u.credentials="include":i.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(i){if(i.ep)return;i.ep=!0;const u=t(i);fetch(i.href,u)}})();function B(){}function Te(e){return e()}function ce(){return Object.create(null)}function L(e){e.forEach(Te)}function Ce(e){return typeof e=="function"}function Ee(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function He(e){return Object.keys(e).length===0}function Ae(e,...n){if(e==null)return B;const t=e.subscribe(...n);return t.unsubscribe?()=>t.unsubscribe():t}function We(e,n,t){e.$$.on_destroy.push(Ae(n,t))}function me(e,n,t){return e.set(t),n}function a(e,n){e.appendChild(n)}function G(e,n,t){e.insertBefore(n,t||null)}function S(e){e.parentNode.removeChild(e)}function je(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function v(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function T(){return E(" ")}function Re(){return E("")}function $(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function W(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function he(e){return e===""?null:+e}function $e(e){return Array.from(e.childNodes)}function N(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function q(e,n){e.value=n==null?"":n}let ie;function F(e){ie=e}const V=[],pe=[],J=[],_e=[],Ne=Promise.resolve();let te=!1;function Be(){te||(te=!0,Ne.then(De))}function le(e){J.push(e)}const Y=new Set;let U=0;function De(){const e=ie;do{for(;U<V.length;){const n=V[U];U++,F(n),Ie(n.$$)}for(F(null),V.length=0,U=0;pe.length;)pe.pop()();for(let n=0;n<J.length;n+=1){const t=J[n];Y.has(t)||(Y.add(t),t())}J.length=0}while(V.length);for(;_e.length;)_e.pop()();te=!1,Y.clear(),F(e)}function Ie(e){if(e.fragment!==null){e.update(),L(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(le)}}const Pe=new Set;function Ke(e,n){e&&e.i&&(Pe.delete(e),e.i(n))}function Oe(e,n,t,o){const{fragment:i,after_update:u}=e.$$;i&&i.m(n,t),o||le(()=>{const r=e.$$.on_mount.map(Te).filter(Ce);e.$$.on_destroy?e.$$.on_destroy.push(...r):L(r),e.$$.on_mount=[]}),u.forEach(le)}function Le(e,n){const t=e.$$;t.fragment!==null&&(L(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Ve(e,n){e.$$.dirty[0]===-1&&(V.push(e),Be(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Fe(e,n,t,o,i,u,r,d=[-1]){const c=ie;F(e);const s=e.$$={fragment:null,ctx:[],props:u,update:B,not_equal:i,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(c?c.$$.context:[])),callbacks:ce(),dirty:d,skip_bound:!1,root:n.target||c.$$.root};r&&r(s.root);let m=!1;if(s.ctx=t?t(e,n.props||{},(y,C,..._)=>{const g=_.length?_[0]:C;return s.ctx&&i(s.ctx[y],s.ctx[y]=g)&&(!s.skip_bound&&s.bound[y]&&s.bound[y](g),m&&Ve(e,y)),C}):[],s.update(),m=!0,L(s.before_update),s.fragment=o?o(s.ctx):!1,n.target){if(n.hydrate){const y=$e(n.target);s.fragment&&s.fragment.l(y),y.forEach(S)}else s.fragment&&s.fragment.c();n.intro&&Ke(e.$$.fragment),Oe(e,n.target,n.anchor,n.customElement),De()}F(c)}class xe{$destroy(){Le(this,1),this.$destroy=B}$on(n,t){if(!Ce(t))return B;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const i=o.indexOf(t);i!==-1&&o.splice(i,1)}}$set(n){this.$$set&&!He(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const O=[];function ze(e,n=B){let t;const o=new Set;function i(d){if(Ee(e,d)&&(e=d,t)){const c=!O.length;for(const s of o)s[1](),O.push(s,e);if(c){for(let s=0;s<O.length;s+=2)O[s][0](O[s+1]);O.length=0}}}function u(d){i(d(e))}function r(d,c=B){const s=[d,c];return o.add(s),o.size===1&&(t=n(i)||B),d(e),()=>{o.delete(s),o.size===0&&(t(),t=null)}}return{set:i,update:u,subscribe:r}}class l{constructor(n,t,o,i,u,r){this.type=n,this.set=t,this.name=o,this.difficulty=i,this.difficultyMultiplayer=u,this.difficultySolo=r,this.enabled=!0}getDifficulty(n){return this.difficulty!==void 0?this.difficulty:n?this.difficultySolo:this.difficultyMultiplayer}}function ee(e,n){return e.filter(t=>t.type===n)}const Z=ze([new l("villain","Core Set","Rhino",void 0,6,0),new l("villain","Core Set","Klaw",void 0,10,3),new l("villain","Core Set","Ultron",void 0,9,12),new l("villain","Wrecking Crew","Wrecking Crew",void 0,-2,2),new l("villain","Green Goblin","Risky Business",void 0,0,-1),new l("villain","Green Goblin","Mutagen Formula",void 0,11,10),new l("villain","Rise of Red Skull","Crossbones",void 0,3,0),new l("villain","Rise of Red Skull","Absorbing Man",void 0,2,-1),new l("villain","Rise of Red Skull","Taskmaster",void 0,4,5),new l("villain","Rise of Red Skull","Zola",void 0,14,9),new l("villain","Rise of Red Skull","Red Skull",void 0,14,16),new l("villain","Kang","Kang",void 0,10,9),new l("villain","Galaxy's Most Wanted","Brotherhood of Badoon",void 0,-1,6),new l("villain","Galaxy's Most Wanted","Infiltrate the Museum",void 0,10,8),new l("villain","Galaxy's Most Wanted","Escape the Museum",void 0,8,10),new l("villain","Galaxy's Most Wanted","Nebula",void 0,13,16),new l("villain","Galaxy's Most Wanted","Ronan the Accuser",void 0,23,22),new l("villain","Galaxy's Most Wanted","Ebony Maw",void 0,5,9),new l("villain","Galaxy's Most Wanted","Tower Defense",void 0,-2,-1),new l("villain","Galaxy's Most Wanted","Thanos",void 0,3,4),new l("villain","Galaxy's Most Wanted","Hela",void 0,5,3),new l("villain","Galaxy's Most Wanted","Loki",void 0,13,13),new l("villain","The Hood","The Hood",void 0,6,6),new l("villain","Sinister Motives","Sandman",void 0,3,0),new l("villain","Sinister Motives","Venom",void 0,12,1),new l("villain","Sinister Motives","Mysterio",void 0,-2,-3),new l("villain","Sinister Motives","The Sinister Six",void 0,6,2),new l("villain","Sinister Motives","Venom Goblin",void 0,12,15),new l("module","Core Set","Bomb Scare",-3),new l("module","Core Set","Masters of Evil",1),new l("module","Core Set","Under Attack",1),new l("module","Core Set","Legions of Hydra",4),new l("module","Core Set","Doomsday Chair",3),new l("module","Green Goblin","Goblin Gimmicks",-4),new l("module","Green Goblin","Mess of Things",0),new l("module","Green Goblin","Power Drain",-3),new l("module","Green Goblin","Running Interference",-1),new l("module","Green Goblin","Kree Fanatic",8),new l("module","Rise of Red Skull","Experimental Weapons",-2),new l("module","Rise of Red Skull","Hydra Assault",-2),new l("module","Rise of Red Skull","Hydra Patrol",-1),new l("module","Rise of Red Skull","Weapon Master",0),new l("module","Kang","Temporal",-3),new l("module","Kang","Master of Time",0),new l("module","Kang","Anachronauts",1),new l("module","Galaxy's Most Wanted","Band of Badoon",-3),new l("module","Galaxy's Most Wanted","Menagerie Medley",3),new l("module","Galaxy's Most Wanted","Galactic Artifacts",0),new l("module","Galaxy's Most Wanted","Space Pirates",-1),new l("module","Galaxy's Most Wanted","Kree Militants",-3),new l("module","Galaxy's Most Wanted","Ship Command",0),new l("module","Galaxy's Most Wanted","Badoon Headhunter",-2),new l("module","Mad Titan's Shadow","Black Order",1),new l("module","Mad Titan's Shadow","Armies of Titan",-3),new l("module","Mad Titan's Shadow","Children of Thanos",3),new l("module","Mad Titan's Shadow","Legions of Hel",-2),new l("module","Mad Titan's Shadow","Frost Giants",3),new l("module","Mad Titan's Shadow","Enchantress",6),new l("module","Mad Titan's Shadow","Infinity Gauntlet",7),new l("module","The Hood","Beasty Boys",1),new l("module","The Hood","Brothers Grimm",1),new l("module","The Hood","Crossfire's Crew",2),new l("module","The Hood","Mister Hyde",-3),new l("module","The Hood","Ransacked Armory",-3),new l("module","The Hood","Sinister Syndicate",0),new l("module","The Hood","State of Emergency",0),new l("module","The Hood","Streets of Mayhem",2),new l("module","The Hood","Wrecking Crew",2),new l("module","Sinister Motives","City in Chaos",4),new l("module","Sinister Motives","Down to Earth",-2),new l("module","Sinister Motives","Goblin Gear",5),new l("module","Sinister Motives","Guerrilla Tactics",2),new l("module","Sinister Motives","Osborn Tech",0),new l("module","Sinister Motives","Personal Nightmare",2),new l("module","Sinister Motives","Symbiotic Strength",4),new l("module","Sinister Motives","Whispers of Paranoia",4),new l("module","Hero Packs","Armadillo",2),new l("module","Hero Packs","Zzzax",-1),new l("adjustment","Core Set","Standard",0),new l("adjustment","Core Set","Expert",5),new l("adjustment","Core Set","Heroic (per level)",9),new l("adjustment","Core Set","Skirmish Level 1",-16),new l("adjustment","Core Set","Skirmish Level 2",-6),new l("adjustment","The Hood","Standard II",7),new l("adjustment","The Hood","Expert II",14)]);class qe{constructor(){this.villain=void 0,this.module=[],this.adjustment=void 0}calc_difficulty(n){var t,o,i;return(i=(o=(t=this.villain.getDifficulty(n))!=null?t:0+this.module.reduce((u,r)=>u+r.getDifficulty(n),0))!=null?o:0+this.adjustment.getDifficulty(n))!=null?i:0}addVillain(n){this.villain=n}addModule(n){this.module.push(n)}addAdjustment(n){this.adjustment=n}}function ne(e,n=void 0,t=void 0,o){let i=[];if(n===void 0||t===void 0?i=e:i.map(d=>d.getDifficulty(o)>=n-t&&d.getDifficulty(o)<=n+t),i.length>0)return i[Math.floor(Math.random()*i.length)];let u=Math.abs(n-e[0].getDifficulty(o)),r=e[0];for(let d=0;d<e.length;d++)Math.abs(n-e[d].getDifficulty(o))<u&&(r=e[d],u=n-e[d].getDifficulty(o));return r}function Ue(e,n){const t=e.difficulty,o=e.moduleNumber,i=e.solo,u=ee(n,"module"),r=ee(n,"adjustment"),d=ee(n,"villain"),c=new qe;let s=r[0].getDifficulty(i),m=r[0].getDifficulty(i);for(let _=0;_<r.length;_++){const g=r[_];g.getDifficulty(i)>s&&(s=g.getDifficulty(i)),g.getDifficulty(i)<m&&(m=g.getDifficulty(i))}const y=d.filter(_=>_.getDifficulty(i)<=t+s&&_.getDifficulty(i)>=t+m);c.addVillain(ne(y));for(let _=0;_<Math.round(o*2/3);_++){const g=Math.floor(Math.random()*u.length);c.addModule(u[g]),u.splice(g,1)}console.log("1");let C=t-c.calc_difficulty();console.log("1"),c.addAdjustment(ne(r,C,2));for(let _=0;_<Math.round(o*1/3);_++){C=t-c.calc_difficulty(),console.log("1");const g=ne(u,C,2),b=u.findIndex(w=>w.name===g.name);c.addModule(g),u.splice(b,1)}return c}function Ze(e){return e<=4?"Beginner":e<=10?"Standard!":e<=16?"Hard!!":e<=22?"Heroic!!!":"Impossible!!!!"}function we(e){return[...new Set(e.map(n=>n.set))].map(n=>({name:n,enabled:!0}))}function ye(e,n,t){for(let o=0;o<e.length;o++)e[o].set===n&&(e[o].enabled=t);return e}function be(e,n,t){const o=e.slice();return o[14]=n[t],o}function ge(e,n,t){const o=e.slice();return o[17]=n[t],o[18]=n,o[19]=t,o}function Je(e){let n;return{c(){n=E("Multiplayer")},m(t,o){G(t,n,o)},d(t){t&&S(n)}}}function Qe(e){let n;return{c(){n=E("Solo")},m(t,o){G(t,n,o)},d(t){t&&S(n)}}}function Me(e){let n=e[17].name+"",t,o,i,u,r,d;function c(){e[13].call(i,e[18],e[19])}return{c(){t=E(n),o=T(),i=v("input"),u=v("br"),W(i,"type","checkbox")},m(s,m){G(s,t,m),G(s,o,m),G(s,i,m),i.checked=e[17].enabled,G(s,u,m),r||(d=$(i,"change",c),r=!0)},p(s,m){e=s,m&64&&n!==(n=e[17].name+"")&&N(t,n),m&64&&(i.checked=e[17].enabled)},d(s){s&&S(t),s&&S(o),s&&S(i),s&&S(u),r=!1,d()}}}function Se(e){let n,t=e[17].set===e[14].name&&Me(e);return{c(){t&&t.c(),n=Re()},m(o,i){t&&t.m(o,i),G(o,n,i)},p(o,i){o[17].set===o[14].name?t?t.p(o,i):(t=Me(o),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(o){t&&t.d(o),o&&S(n)}}}function ke(e){let n,t=e[14].name+"",o,i,u,r,d,c,s,m,y,C;function _(){return e[11](e[14])}function g(){return e[12](e[14])}let b=e[6],w=[];for(let f=0;f<b.length;f+=1)w[f]=Se(ge(e,b,f));return{c(){n=v("b"),o=E(t),i=T(),u=v("button"),u.textContent="select all",r=T(),d=v("button"),d.textContent="select none ",c=v("br"),s=T();for(let f=0;f<w.length;f+=1)w[f].c();m=Re()},m(f,M){G(f,n,M),a(n,o),G(f,i,M),G(f,u,M),G(f,r,M),G(f,d,M),G(f,c,M),G(f,s,M);for(let k=0;k<w.length;k+=1)w[k].m(f,M);G(f,m,M),y||(C=[$(u,"click",_),$(d,"click",g)],y=!0)},p(f,M){if(e=f,M&64&&t!==(t=e[14].name+"")&&N(o,t),M&64){b=e[6];let k;for(k=0;k<b.length;k+=1){const h=ge(e,b,k);w[k]?w[k].p(h,M):(w[k]=Se(h),w[k].c(),w[k].m(m.parentNode,m))}for(;k<w.length;k+=1)w[k].d(1);w.length=b.length}},d(f){f&&S(n),f&&S(i),f&&S(u),f&&S(r),f&&S(d),f&&S(c),f&&S(s),je(w,f),f&&S(m),y=!1,L(C)}}}function ve(e){let n,t,o=e[3].villain.name+e[3].villain.solo+"",i,u,r,d,c=e[3].module.map(Ge).join(", ")+"",s,m,y,C,_=e[3].adjustment.name+"",g,b,w,f,M=e[3].calc_difficulty()+"",k;return{c(){n=v("p"),t=E("Enconter: "),i=E(o),u=T(),r=v("p"),d=E("Modules: "),s=E(c),m=T(),y=v("p"),C=E("Adjustment: "),g=E(_),b=T(),w=v("p"),f=E("Enconter Difficulty: "),k=E(M)},m(h,R){G(h,n,R),a(n,t),a(n,i),G(h,u,R),G(h,r,R),a(r,d),a(r,s),G(h,m,R),G(h,y,R),a(y,C),a(y,g),G(h,b,R),G(h,w,R),a(w,f),a(w,k)},p(h,R){R&8&&o!==(o=h[3].villain.name+h[3].villain.solo+"")&&N(i,o),R&8&&c!==(c=h[3].module.map(Ge).join(", ")+"")&&N(s,c),R&8&&_!==(_=h[3].adjustment.name+"")&&N(g,_),R&8&&M!==(M=h[3].calc_difficulty()+"")&&N(k,M)},d(h){h&&S(n),h&&S(u),h&&S(r),h&&S(m),h&&S(y),h&&S(b),h&&S(w)}}}function Xe(e){let n,t,o,i,u,r,d,c,s,m,y,C,_,g,b,w,f,M,k,h,R,Q,oe,P,ue,x,se,re,X,fe;function de(p,A){return p[4]?Qe:Je}let z=de(e),I=z(e),K=we(e[6]),D=[];for(let p=0;p<K.length;p+=1)D[p]=ke(be(e,K,p));let H=e[2]&&ve(e);return{c(){n=v("main"),t=v("div"),o=v("p"),o.textContent="Dificult setting",i=T(),u=v("input"),r=T(),d=v("p"),c=E(e[0]),s=T(),m=v("p"),y=E(e[5]),C=T(),_=v("p"),_.textContent="Module Number",g=T(),b=v("input"),w=T(),f=v("p"),M=E(e[1]),k=T(),h=v("button"),h.textContent="Generate Enconter",R=T(),Q=v("p"),Q.textContent="Number of players",oe=T(),P=v("input"),ue=T(),x=v("p"),I.c(),se=T();for(let p=0;p<D.length;p+=1)D[p].c();re=T(),H&&H.c(),W(u,"type","range"),W(u,"min","1"),W(u,"max","30"),W(u,"class","slider"),W(u,"id","myRange"),W(b,"type","range"),W(b,"min","1"),W(b,"max","10"),W(b,"class","slider"),W(b,"id","myRange"),W(P,"type","checkbox")},m(p,A){G(p,n,A),a(n,t),a(t,o),a(t,i),a(t,u),q(u,e[0]),a(t,r),a(t,d),a(d,c),a(t,s),a(t,m),a(m,y),a(t,C),a(t,_),a(t,g),a(t,b),q(b,e[1]),a(t,w),a(t,f),a(f,M),a(t,k),a(t,h),a(t,R),a(t,Q),a(t,oe),a(t,P),P.checked=e[4],a(t,ue),a(t,x),I.m(x,null),a(t,se);for(let j=0;j<D.length;j+=1)D[j].m(t,null);a(n,re),H&&H.m(n,null),X||(fe=[$(u,"change",e[8]),$(u,"input",e[8]),$(b,"change",e[9]),$(b,"input",e[9]),$(h,"click",e[7]),$(P,"change",e[10])],X=!0)},p(p,[A]){if(A&1&&q(u,p[0]),A&1&&N(c,p[0]),A&32&&N(y,p[5]),A&2&&q(b,p[1]),A&2&&N(M,p[1]),A&16&&(P.checked=p[4]),z!==(z=de(p))&&(I.d(1),I=z(p),I&&(I.c(),I.m(x,null))),A&64){K=we(p[6]);let j;for(j=0;j<K.length;j+=1){const ae=be(p,K,j);D[j]?D[j].p(ae,A):(D[j]=ke(ae),D[j].c(),D[j].m(t,null))}for(;j<D.length;j+=1)D[j].d(1);D.length=K.length}p[2]?H?H.p(p,A):(H=ve(p),H.c(),H.m(n,null)):H&&(H.d(1),H=null)},i:B,o:B,d(p){p&&S(n),I.d(),je(D,p),H&&H.d(),X=!1,L(fe)}}}const Ge=e=>e.name;function Ye(e,n,t){let o,i;We(e,Z,f=>t(6,i=f));let u=10,r=2,d=!1,c,s=!0;function m(){t(3,c=Ue({difficulty:u,moduleNumber:r,solo:s},i)),t(2,d=!0)}function y(){u=he(this.value),t(0,u)}function C(){r=he(this.value),t(1,r)}function _(){s=this.checked,t(4,s)}const g=f=>{me(Z,i=ye(i,f.name,!0),i)},b=f=>{me(Z,i=ye(i,f.name,!1),i)};function w(f,M){f[M].enabled=this.checked,Z.set(i)}return e.$$.update=()=>{e.$$.dirty&1&&t(5,o=Ze(u))},[u,r,d,c,s,o,i,m,y,C,_,g,b,w]}class en extends xe{constructor(n){super(),Fe(this,n,Ye,Xe,Ee,{})}}new en({target:document.getElementById("app")});
